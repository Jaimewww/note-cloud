<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough" xmlns:p="primefaces"
      lang="es">

<h:head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>NoteCloud</title>

    <!-- Ícono de pestaña -->
    <link rel="icon" href="images/note.png" type="image/png" />

    <!-- Iconos Lineicons -->
    <link href="https://cdn.lineicons.com/4.0/lineicons.css" rel="stylesheet" />

    <!-- Tu hoja de estilos -->

    <link rel="stylesheet" href="style.css" />
</h:head>

<h:body>
    <p:growl id="growl" showSummary="true" globalOnly="false" showDetail="false" life="5000"/>

    <div class="container" id="container">
        <!-- Registro -->
        <div class="form-container register-container">
            <h:form prependId="false">
                <h1>Registrarse</h1>
                <h:inputText value="#{registerBean.userDTO.name}" styleClass="input" pt:placeholder="Nombre"/>
                <h:inputText value="#{registerBean.userDTO.email}" styleClass="input" pt:placeholder="Correo"/>
                <h:inputSecret value="#{registerBean.userDTO.password}" styleClass="input" pt:placeholder="Contraseña"/>
                <h:inputSecret value="#{registerBean.userDTO.confirmPassword}" styleClass="input" pt:placeholder="Confirmar contraseña" />
                <h:commandButton value="Registrarse" action="#{registerBean.register()}" styleClass="btn btn-oval" update="growl"
                                 process="@form" disableOnAjax="true"/>
                <span>o utilice su cuenta</span>
                    <div class="social-container">
                        <p:commandButton action="#{authBean.googleLogin}" styleClass="btn btn-oval social" process="@this" update="growl" icon="pi pi-google"/>
                    </div>
            </h:form>
        </div>

        <!-- Login -->
        <div class="form-container login-container">
            <h:form prependId="false">
                <h1>Iniciar sesión</h1>
                <h:inputText value="#{loginBean.userDTO.email}" styleClass="input" pt:placeholder="Email" />
                <h:inputSecret value="#{loginBean.userDTO.password}" styleClass="input" pt:placeholder="Contraseña"/>
                <div class="content">
                    <div class="checkbox">
                        <h:selectBooleanCheckbox value="true" id="checkbox" />
                        <label for="checkbox">Recordarme</label>
                    </div>
                    <div class="pass-link">
                        <a href="#">¿Ha olvidado su contraseña?</a>
                    </div>
                </div>
                <h:commandButton value="Iniciar" action="#{loginBean.login}" styleClass="btn btn-oval" update="growl" />
                <span>o utilice su cuenta:</span>
                <div class="social-container">
                    <p:commandButton action="#{authBean.googleLogin}" styleClass="btn btn-oval social" process="@this" update="growl" icon="pi pi-google"/>
                </div>
            </h:form>
        </div>

        <!-- Panel overlay -->
        <div class="overlay-container">
            <div class="overlay">
                <div class="overlay-panel overlay-left">
                    <h1 class="title">Hola <br /> Clouders</h1>
                    <p>Si tienes una cuenta, inicia sesión aquí</p>
                    <button class="ghost" id="login">Iniciar sesión
                        <i class="lni lni-arrow-left"></i>
                    </button>
                </div>
                <div class="overlay-panel overlay-right">
                    <h1 class="title">Organiza <br /> ahora tus apuntes</h1>
                    <p>Si aún no tienes una cuenta, únete a nosotros</p>
                    <button class="ghost" id="register">Registrarse
                        <i class="lni lni-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>

    </div>

    <!-- EFECTO SLIDER -->
    <script>
        const container = document.getElementById('container');
        const loginButton = document.getElementById('login');
        const registerButton = document.getElementById('register');

        loginButton.addEventListener('click', () => {
            container.classList.remove("right-panel-active");
        });

        registerButton.addEventListener('click', () => {
            container.classList.add("right-panel-active");
        });
    </script>

    <script src="https://accounts.google.com/gsi/client.js" async="async" defer="defer"></script>

</h:body>
</html>